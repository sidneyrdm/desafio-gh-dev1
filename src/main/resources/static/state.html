<!DOCTYPE html> 
<html> 
  
<head> 
  <meta name="viewport" content='width=device-width,initial-scale=1.0'> 
  <title>dev1 - State</title> 
</head> 
  
<body> 
  <h1 style="color:green">Estados</h1> 

<a href="index.html">Voltar</a>
  <hr/>
  <button id="btn-update">Atualizar</button>
  <button id="btn-list">Listar</button>   
  <hr/> 
  <h3>Lista</h3>
   
  <ul id="list">
  </ul>

  <script>


	document.querySelector('#btn-list').addEventListener('click', e => {

		const ul = document.getElementById('list');
	
		ul.innerHTML = ''
   
	    fetch('api/state/list').then((res) => {
	        return res.json() 
	      }).then((list) => {
	      
	      	 for (const p of list) {
	           ul.innerHTML += ('<li>' + p.id + ' - ' + p.title + ' - ' + p.url + ' - ' + '</li>')
	      	 }
	      	 
	      }) 
	      .catch((err) => console.debug(err));
	});
	
  </script> 
  
      <script>
	     document.querySelector('#btn-update').addEventListener('click', e => {
		 
	    	 fetch('api/state/update').then((res) => {
	    		 console.log('entrou no update', res);
	    	 });
	     });
</script>

</body> 
  
</html>